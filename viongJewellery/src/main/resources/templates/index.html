<!-- templates/pages/home.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title layout:title="홈">홈</title>
</head>
<body>
<div layout:fragment="content">
    <h2>홈 페이지입니다</h2>
    <p>이 페이지는 레이아웃을 상속받고 본문만 채웁니다.</p>

	
	<button id="userBtn" class="border-red-300 border-3 m-5 p-5">유저버튼</button>
	
	
	<p id="result"></p>

	<div class="grid grid-cols-3 lg:grid-cols-5 gap-5 mx-3">
		<div th:each="product : ${productList}">
				<div class="border-2 ">
					<p th:text="${product.SEQ}"></p>
					<p th:text="${product.NAME}"></p>
					<p th:text="${product.HAND_EXPENSES}"></p>
					<p th:text="${product.WEIGHT}"></p>
					<p th:text="${product.SIZE}"></p>
					<p th:text="${product.STOCK}"></p>
					<p th:text="${product.CONTENT}"></p>
					<p th:text="${product.IMAGE}"></p>
					<p th:text="${product.STATUS_CODE}"></p>
					<p th:text="${product.CATEGORY_CODE}"></p>
				</div>
		</div>
	</div>


,
	<script>
		document.getElementById('userBtn').addEventListener('click', () => {


			let promise =  fetch('/api/user')
		
			promise.then(respon => respon.json())
			.then(data => {console.log(data);
				document.getElementById('result').innerText = data.name;});
			

/*
			.then((response) =>  {

				console.log(response);
				console.log(response.json());
				

				let p = document.getElementById('result');
				p.innerText =response.json();
			})
*/


		})

	</script>
	



</div>
	<!--List 받아서 반복문 사용-->
	<!-- <table style="border: 1px solid red;" >
	<tr th:each="product : ${productList}">
	  <td th:text="${product.PRODUCT_NAME}"></td>
	  <td th:text="${product.PRODUCT_PRICE}"></td>
	</tr>
	</table> -->
	
	

</div>
</body>
</html>
